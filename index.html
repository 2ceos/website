<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2CEOS | Scaling Brands</title>
  <link rel="icon" href="assets/logo.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0a;
      --text: #f5f5f5;
      --accent: #888;
      --btn-bg: #f5f5f5;
      --btn-text: #000;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
    body { 
      background: var(--bg); 
      color: var(--text); 
      overflow: hidden; 
      touch-action: manipulation;
      -webkit-overflow-scrolling: touch;
    }
    body.entered { overflow: auto; }

    /* Black gradient overlay for seamless scrolling */
    .scroll-gradient {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 120px;
      background: linear-gradient(to bottom, rgba(10,10,10,1) 0%, rgba(10,10,10,0.8) 50%, transparent 100%);
      z-index: 15;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .scroll-gradient.visible {
      opacity: 1;
    }

    /* Overlay Intro */
    #intro-overlay {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      background: #111;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 100;
    }
    #intro-overlay::before {
      content: '';
      position: absolute; top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(circle at center, transparent 60%, rgba(0,0,0,0.8) 100%);
      animation: vignette 4s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }
    @keyframes vignette {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.5; }
    }
    /* Flash effect on click */
    #intro-overlay.flash-out { animation: flashfade 0.5s ease forwards; }
    @keyframes flashfade {
      0% { background: #111; opacity: 1; }
      50% { background: #555; opacity: 1; }
      100% { background: #555; opacity: 0; }
    }

    /* Fade-in Animation */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .intro-logo, .enter-btn { opacity: 0; position: relative; z-index: 1; }
    .intro-logo.fade-in, .enter-btn.fade-in { animation: fadeIn 1s ease forwards; }

    /* Intro Logo */
    #intro-overlay .intro-logo {
      width: 300px;
      margin-bottom: 2rem;
      filter: drop-shadow(0 0 20px rgba(255,255,255,0.7));
      cursor: pointer;
    }

    /* Clickable text */
    #intro-overlay .enter-btn {
      font-size: 2rem;
      color: var(--text);
      cursor: pointer;
      background: none;
      border: none;
      transition: text-shadow 0.3s ease;
      position: relative;
    }
    #intro-overlay .enter-btn:hover {
      text-shadow: 0 0 12px rgba(255,255,255,0.9), 0 0 24px rgba(255,255,255,0.6);
    }

    /* Fade-in up for main elements */
    .fade-in-up { opacity: 0; transform: translateY(20px); transition: opacity 1.7s ease, transform 1.7s ease; }
    body.entered .fade-in-up { opacity: 1; transform: translateY(0); }

    /* Scroll-triggered fade (toggle) */
    .fade-on-scroll { opacity: 0; transform: translateY(20px); transition: opacity 1s ease, transform 1s ease; }
    .fade-on-scroll.visible { opacity: 1; transform: translateY(0); }

    /* Full-screen hero after enter */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 2rem;
      z-index: 5;
    }

    /* Scroll-down indicator */
    .scroll-indicator {
      margin-top: 2rem;
      font-size: 2.5rem;
      color: var(--accent);
      animation: bounce 2s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }
    /* FAQ Indicator Text */
    .faq-indicator {
      margin-top: 1rem;
      font-size: 1.2rem;
      color: var(--accent);
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }

    /* Starfield with vignette */
    #starfield { 
      position: fixed; 
      top: 0; 
      left: 0; 
      width: 100%; 
      height: 100%; 
      z-index: -1;
      background: radial-gradient(ellipse at center, rgba(20,20,20,0.8) 0%, rgba(0,0,0,1) 70%);
    }

    /* Nav styling with scroll behavior - FIXED POSITIONING */
    .floating-nav-container { 
      position: fixed; 
      top: 2rem; 
      left: 50%;
      transform: translateX(-50%) translateY(0);
      z-index: 20;
      transition: transform 0.3s ease;
    }
    .floating-nav-container.hidden {
      transform: translateX(-50%) translateY(-120px);
    }
    .floating-nav { 
      background: rgba(26,26,26,0.8); 
      padding: 1rem 3rem; 
      border-radius: 999px; 
      box-shadow: 0 8px 20px rgba(0,0,0,0.5); 
      backdrop-filter: blur(6px); 
      display: flex; 
      gap: 3rem; 
      transition: box-shadow 0.3s ease; 
      white-space: nowrap;
    }
    .floating-nav:hover { box-shadow: 0 0 12px rgba(255,255,255,0.4), 0 0 4px 2px rgba(255,255,255,0.5); }
    .floating-nav a { text-decoration: none; color: var(--accent); font-weight: 600; font-size: 1.2rem; transition: color 0.3s ease; }
    .floating-nav a:hover { color: var(--text); }

    /* Header with scroll behavior - FIXED POSITIONING */
    header { 
      padding: 2rem; 
      z-index: 20; 
      position: fixed;
      top: 0;
      left: 0;
      transform: translateY(0);
      transition: transform 0.3s ease;
    }
    header.hidden {
      transform: translateY(-100px);
    }
    header h1 { 
      font-size: 2.5rem; 
      font-weight: 700; 
      cursor: pointer;
      transition: text-shadow 0.3s ease;
    }
    header h1:hover {
      text-shadow: 0 0 10px rgba(255,255,255,0.6);
    }

    /* Typewriter and glow */
    #typewriter-container { font-size: 3rem; color: var(--text); text-shadow: 0 0 10px rgba(255,255,255,0.7), 0 0 20px rgba(255,255,255,0.5); margin-bottom: 2rem; display: flex; align-items: center; height: 3.5rem; }
    #cursor { animation: blink 0.7s infinite; }
    @keyframes blink { 0%,50%{opacity:1;}51%,100%{opacity:0;} }
    .hero h2 { font-size: 4rem; max-width: 900px; line-height: 1.1; }
    .hero p { font-size: 1.6rem; margin-top: 1.5rem; color: var(--accent); max-width: 700px; text-shadow: 0 0 8px rgba(255,255,255,0.4); }
    .hero button { 
      margin-top: 2.5rem; 
      padding: 1rem 2.5rem; 
      font-size: 1.2rem; 
      background: var(--btn-bg); 
      color: var(--btn-text); 
      border: none; 
      border-radius: 8px; 
      cursor: pointer; 
      transition: transform 0.3s ease, box-shadow 0.3s ease; 
    }
    .hero button:hover { transform: scale(1.1); box-shadow: 0 0 20px rgba(255,255,255,0.6); }

    /* Divider */
    .divider { width: 80%; max-width: 800px; margin: 4rem auto; border: none; height: 1px; background: var(--accent); }

    /* Modern Glass FAQ Cards - More cards per row */
    .faq { padding: 2rem; max-width: 1400px; margin: 0 auto 4rem; }
    .faq h2 { font-size: 2.5rem; margin-bottom: 3rem; text-align: center; }
    .faq-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; padding: 1rem; }
    
    .faq-card {
      position: relative;
      height: 180px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 1.5rem;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .faq-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .faq-card:hover::before {
      opacity: 1;
    }

    .faq-card:hover {
      transform: translateY(-8px);
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.2);
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }

    .faq-card .card-number {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2rem;
      font-weight: 700;
      color: rgba(255, 255, 255, 0.1);
      transition: color 0.3s ease;
    }

    .faq-card:hover .card-number {
      color: rgba(255, 255, 255, 0.2);
    }

    .faq-card .question {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    .faq-card .answer {
      font-size: 0.9rem;
      color: var(--accent);
      line-height: 1.5;
      opacity: 0.9;
    }

    /* Contact Section */
    .contact { 
      padding: 4rem 2rem; 
      max-width: 1200px; 
      margin: 0 auto; 
      text-align: center;
    }
    .contact h2 { 
      font-size: 2.5rem; 
      margin-bottom: 2rem; 
      color: var(--text);
    }
    .contact p {
      font-size: 1.2rem;
      color: var(--accent);
      margin-bottom: 3rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .typeform-container {
      width: 100%;
      max-width: 600px;
      height: 400px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      overflow: hidden;
      box-shadow: 
        0 20px 40px rgba(0, 0, 0, 0.3),
        0 0 0 1px rgba(255, 255, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .typeform-container:hover {
      transform: translateY(-2px);
    }

    /* Fullscreen Typeform Modal */
    .typeform-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .typeform-modal.active {
      opacity: 1;
      visibility: visible;
    }

    .typeform-modal-content {
      width: 90%;
      max-width: 800px;
      height: 80%;
      max-height: 600px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      overflow: hidden;
      transform: scale(0.8) translateY(50px);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .typeform-modal.active .typeform-modal-content {
      transform: scale(1) translateY(0);
    }

    .typeform-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text);
      font-size: 20px;
      z-index: 1001;
      transition: all 0.3s ease;
    }

    .typeform-close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }

    footer { text-align: center; padding: 1.5rem; font-size: 1rem; color: var(--accent); z-index: 10; }
    
    @media (max-width:800px){ 
      .hero h2{font-size:3rem;} 
      .faq-cards { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
      .faq-card { height: 160px; }
      .floating-nav { padding: 0.8rem 2rem; gap: 2rem; }
      .floating-nav a { font-size: 1rem; }
      .typeform-container { max-width: 100%; height: 350px; }
      .typeform-modal-content { width: 95%; height: 85%; }
    }
    @media (max-width:500px){ 
      .hero h2{font-size:2.2rem;} 
      #typewriter-container{font-size:2rem;} 
      .faq-cards { grid-template-columns: 1fr; }
      .faq-card { height: 140px; padding: 1rem; }
      .faq-card .question { font-size: 1.1rem; }
      .faq-card .answer { font-size: 0.85rem; }
      .floating-nav { padding: 0.6rem 1.5rem; gap: 1.5rem; }
      .floating-nav a { font-size: 0.9rem; }
      .typeform-container { height: 300px; }
      .typeform-modal-content { width: 98%; height: 90%; }
      header h1 { font-size: 2rem; }
    }
  </style>
</head>
<body>
  <!-- Intro Overlay -->
  <div id="intro-overlay">
    <img src="assets/logo.png" alt="2CEOS Logo" class="intro-logo">
    <div class="enter-btn">Click to Enter</div>
  </div>

  <!-- Scroll gradient overlay -->
  <div class="scroll-gradient"></div>

  <canvas id="starfield"></canvas>

  <div class="floating-nav-container fade-in-up">
    <div class="floating-nav">
      <a href="#contact">Contact</a>
      <a href="#portfolio">Portfolio</a>
      <a href="#about">About</a>
      <a href="#about">Apply</a>
    </div>
  </div>
  <header class="fade-in-up">
    <h1 onclick="navigateHome()">2CEOS</h1>
  </header>
  <main class="hero fade-in-up">
    <div id="typewriter-container">
      <span id="typewriter"></span><span id="cursor">|</span>
    </div>
    <h2>Scale Your Business</h2>
    <p>At 2CEOs, we specialize in scaling ambitious brands with a unique blend of creative strategy, high-converting advertising, and expert brand consulting. We transform promising businesses into market leaders by crafting standout visuals, optimizing performance marketing, and building systems that fuel sustainable growth. Whether you're launching your first product or leveling up your business, we'll help you hit the next milestone.</p>
    <button onclick="scrollToContact()">Get Started</button>
    <div class="scroll-indicator">⌄</div>
    <div class="faq-indicator">FAQ</div>
  </main>

  <hr class="divider fade-on-scroll">
  <section id="faq" class="faq fade-on-scroll">
    <h2>FAQ</h2>
    <div class="faq-cards">
      <div class="faq-card">
        <div class="card-number">1</div>
        <div class="question">What services do you offer?</div>
        <div class="answer">We offer brand strategy, web design, and digital marketing to help businesses scale effectively.</div>
      </div>
      <div class="faq-card">
        <div class="card-number">2</div>
        <div class="question">How can I get started?</div>
        <div class="answer">Click the "Get Started" button above or contact us directly via the Contact link.</div>
      </div>
      <div class="faq-card">
        <div class="card-number">3</div>
        <div class="question">What is your timeline?</div>
        <div class="answer">Typical projects take 4–6 weeks from kickoff to launch, depending on scope.</div>
      </div>
      <div class="faq-card">
        <div class="card-number">4</div>
        <div class="question">Do you offer support?</div>
        <div class="answer">Yes, we provide ongoing support and maintenance post-launch.</div>
      </div>
      <div class="faq-card">
        <div class="card-number">5</div>
        <div class="question">What's your pricing?</div>
        <div class="answer">We offer flexible pricing based on project scope and business needs.</div>
      </div>
      <div class="faq-card">
        <div class="card-number">6</div>
        <div class="question">Do you work globally?</div>
        <div class="answer">Yes, we work with clients worldwide and adapt to different time zones.</div>
      </div>
    </div>
  </section>

  <hr class="divider fade-on-scroll">
  <section id="contact" class="contact fade-on-scroll">
    <h2>Contact</h2>
    <p>Ready to scale your business? Get in touch with us and let's discuss how we can help you achieve your goals.</p>
    <div class="typeform-container" onclick="openTypeformModal()">
      <div data-tf-live="01JZ2J55KH81A84PHYHD24TXC4"></div>
    </div>
  </section>

  <!-- Fullscreen Typeform Modal -->
  <div class="typeform-modal" id="typeform-modal">
    <div class="typeform-modal-content">
      <div class="typeform-close" onclick="closeTypeformModal()">×</div>
      <div data-tf-live="01JZ2J55KH81A84PHYHD24TXC4"></div>
    </div>
  </div>

  <footer class="fade-in-up">© 2025 2CEOS. All rights reserved.</footer>

  <script src="//embed.typeform.com/next/embed.js"></script>
  <script>
    // Scroll behavior variables
    let lastScrollTop = 0;
    let scrollThreshold = 50; // Reduced threshold for easier testing

    // Check if this is a fresh visit or navigation
    function shouldShowIntro() {
      // Check if user came from another page on the same domain
      const referrer = document.referrer;
      const currentDomain = window.location.hostname;
      
      // If there's a referrer and it's from the same domain, skip intro
      if (referrer && referrer.includes(currentDomain)) {
        return false;
      }
      
      // Check session storage to see if intro was already shown
      const introShown = sessionStorage.getItem('introShown');
      if (introShown === 'true') {
        return false;
      }
      
      return true;
    }

    // Initialize page
    function initializePage() {
      if (!shouldShowIntro()) {
        // Skip intro, go straight to main content
        const overlay = document.getElementById('intro-overlay');
        if (overlay) {
          overlay.remove();
        }
        document.body.classList.add('entered');
        startTypewriter();
        initScrollBehavior();
      } else {
        // Show intro sequence
        const logoEl = document.querySelector('.intro-logo');
        const btnEl = document.querySelector('.enter-btn');
        setTimeout(() => logoEl && logoEl.classList.add('fade-in'), 100);
        setTimeout(() => btnEl && btnEl.classList.add('fade-in'), 1100);
      }
    }

    // Initialize scroll behavior for navigation elements
    function initScrollBehavior() {
      const navContainer = document.querySelector('.floating-nav-container');
      const header = document.querySelector('header');
      const scrollGradient = document.querySelector('.scroll-gradient');

      window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        // Show/hide gradient overlay
        if (scrollTop > scrollThreshold) {
          scrollGradient.classList.add('visible');
        } else {
          scrollGradient.classList.remove('visible');
        }
        
        // Apply scroll behavior - hide when scrolling down, show when scrolling up
        if (scrollTop > scrollThreshold) {
          if (scrollTop > lastScrollTop) {
            // Scrolling down - hide elements
            navContainer.classList.add('hidden');
            header.classList.add('hidden');
          } else {
            // Scrolling up - show elements
            navContainer.classList.remove('hidden');
            header.classList.remove('hidden');
          }
        } else {
          // At top of page - always show elements
          navContainer.classList.remove('hidden');
          header.classList.remove('hidden');
        }
        
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      }, { passive: true });
    }

    // Home navigation function
    function navigateHome() {
      // Set flag to skip intro on navigation
      sessionStorage.setItem('introShown', 'true');
      
      // If we're already on the home page, just scroll to top
      if (window.location.pathname === '/' || window.location.pathname.includes('index')) {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        // Navigate to home page (adjust URL as needed)
        window.location.href = 'https://2ceos.com';
      }
    }

    // Scroll to contact section
    function scrollToContact() {
      const contactSection = document.getElementById('contact');
      if (contactSection) {
        contactSection.scrollIntoView({ behavior: 'smooth' });
      }
    }

    // Typeform modal functions
    function openTypeformModal() {
      const modal = document.getElementById('typeform-modal');
      modal.classList.add('active');
      document.body.style.overflow = 'hidden'; // Prevent background scrolling
    }

    function closeTypeformModal() {
      const modal = document.getElementById('typeform-modal');
      modal.classList.remove('active');
      document.body.style.overflow = 'auto'; // Restore scrolling
    }

    // Close modal when clicking outside
    document.getElementById('typeform-modal').addEventListener('click', (e) => {
      if (e.target.classList.contains('typeform-modal')) {
        closeTypeformModal();
      }
    });

    // Close modal with escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeTypeformModal();
      }
    });

    const overlay = document.getElementById('intro-overlay');
    const enterEls = document.querySelectorAll('.enter-btn, .intro-logo');

    function startTypewriter() {
      const text = "2 minds. 1 mission.";
      const typeEl = document.getElementById('typewriter');
      const cursorEl = document.getElementById('cursor');
      
      if (!typeEl) return; // Guard against missing element
      
      let i = 0;
      function type() {
        if (i < text.length) {
          typeEl.textContent += text.charAt(i++);
          setTimeout(type, 100);
        } else {
          if (cursorEl) cursorEl.remove();
        }
      }
      type();
    }

    // Click to enter: flash then hide overlay
    enterEls.forEach(el => el.addEventListener('click', () => {
      // Mark intro as shown
      sessionStorage.setItem('introShown', 'true');
      
      overlay.classList.add('flash-out');
      overlay.addEventListener('animationend', () => {
        overlay.remove();
        document.body.classList.add('entered');
        startTypewriter();
        initScrollBehavior(); // Initialize scroll behavior after entering
      }, { once: true });
    }));

    // Scroll fade-in observer
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        } else {
          entry.target.classList.remove('visible');
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.fade-on-scroll').forEach(el => observer.observe(el));

    // Mouse tracking for FAQ card glow effect
    document.querySelectorAll('.faq-card').forEach(card => {
      card.addEventListener('mousemove', (e) => {
        const rect = card.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        
        card.style.setProperty('--mouse-x', `${x}%`);
        card.style.setProperty('--mouse-y', `${y}%`);
      });
    });

    // Starfield
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    let stars = [], width, height;
    const STAR_COUNT = 200;
    const DRIFT_SPEED = 0.15;
    let mouseX = 0, mouseY = 0;
    let targetMouseX = 0, targetMouseY = 0;

    function initStars() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
      mouseX = targetMouseX = width / 2;
      mouseY = targetMouseY = height / 2;
      stars = [];
      for (let i = 0; i < STAR_COUNT; i++) {
        stars.push({
          x: Math.random() * width,
          y: Math.random() * height,
          z: Math.random() * 1000 + 1, // Depth for parallax
          size: Math.random() * 1.2 + 0.3,
          baseAlpha: Math.random() * 0.6 + 0.4,
          twinkleSpeed: Math.random() * 0.02 + 0.01
        });
      }
    }

    function animateStars() {
      ctx.clearRect(0, 0, width, height);
      const time = Date.now() * 0.001;
      
      // Smooth mouse following
      mouseX += (targetMouseX - mouseX) * 0.05;
      mouseY += (targetMouseY - mouseY) * 0.05;
      
      // Enhanced parallax based on cursor with depth
      const parallaxStrength = 0.05;
      const baseParallaxX = (mouseX - width / 2) * parallaxStrength;
      const baseParallaxY = (mouseY - height / 2) * parallaxStrength;

      for (let s of stars) {
        // Drift movement
        s.x += DRIFT_SPEED;
        if (s.x > width + 10) {
          s.x = -10;
          s.y = Math.random() * height;
        }
        
        // Depth-based parallax
        const depthFactor = s.z / 1000;
        const parallaxX = baseParallaxX * depthFactor;
        const parallaxY = baseParallaxY * depthFactor;
        
        // Enhanced twinkling
        const twinkle = Math.sin(time * s.twinkleSpeed + s.x * 0.01) * 0.4;
        const alpha = Math.max(0, Math.min(1, s.baseAlpha + twinkle));
        
        // Size based on depth
        const starSize = s.size * (0.5 + depthFactor * 0.5);
        
        // White color for stars
        ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
        ctx.beginPath();
        ctx.arc(s.x + parallaxX, s.y + parallaxY, starSize, 0, Math.PI * 2);
        ctx.fill();
        
        // Add subtle glow for brighter stars
        if (alpha > 0.7) {
          ctx.shadowBlur = 3;
          ctx.shadowColor = `rgba(255, 255, 255, ${alpha * 0.3})`;
          ctx.beginPath();
          ctx.arc(s.x + parallaxX, s.y + parallaxY, starSize * 1.5, 0, Math.PI * 2);
          ctx.fill();
          ctx.shadowBlur = 0;
        }
      }
      requestAnimationFrame(animateStars);
    }

    // Improved mouse tracking for mobile
    function updateMousePosition(e) {
      if (e.touches) {
        // Touch event
        if (e.touches.length > 0) {
          targetMouseX = e.touches[0].clientX;
          targetMouseY = e.touches[0].clientY;
        }
      } else {
        // Mouse event
        targetMouseX = e.clientX;
        targetMouseY = e.clientY;
      }
    }

    // Event listeners for both mouse and touch
    window.addEventListener('mousemove', updateMousePosition, { passive: true });
    window.addEventListener('touchmove', updateMousePosition, { passive: true });
    window.addEventListener('touchstart', updateMousePosition, { passive: true });
    
    window.addEventListener('resize', initStars);

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', initializePage);

    // Initialize starfield
    initStars();
    animateStars();
  </script>
</body>
</html>
